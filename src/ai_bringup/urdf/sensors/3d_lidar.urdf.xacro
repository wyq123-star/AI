<!-- 在 3d_lidar.urdf.xacro 文件中 -->
<gazebo reference="${name}_link">
  <sensor type="ray" name="${name}_sensor">
    <pose>0 0 0 0 0 0</pose>
    <visualize>false</visualize>
    <update_rate>10</update_rate> <!-- 数据更新频率 -->
    <ray>
      <scan>
        <horizontal> <!-- 水平扫描特性 -->
          <samples>360</samples>       <!-- 水平分辨率，一圈360个点 -->
          <resolution>1</resolution>
          <min_angle>-3.14159</min_angle>
          <max_angle>3.14159</max_angle>
        </horizontal>
        <vertical> <!-- 这是3D雷达特有的配置！ -->
          <samples>16</samples>        <!-- 雷达线数，如16线 -->
          <resolution>1</resolution>
          <min_angle>-0.261799</min_angle> <!-- 约-15度 -->
          <max_angle>0.261799</max_angle>   <!-- 约+15度 -->
        </vertical>
      </scan>
      <range>
        <min>0.5</min>    <!-- 最小测距 -->
        <max>100.0</max>   <!-- 最大测距 -->
        <resolution>0.01</resolution>
      </range>
      <noise> <!-- 噪声模型 -->
        <type>gaussian</type>
        <mean>0.0</mean>
        <stddev>0.01</stddev>
      </noise>
    </ray>
    <plugin name="${name}_controller" filename="libgazebo_ros_ray_sensor.so">
      <!-- 注意：3D雷达通常发布PointCloud2话题 -->
      <topicName>points</topicName> 
      <frameName>${name}_link</frameName>
      <messageType>sensor_msgs/PointCloud2</messageType>
    </plugin>
  </sensor>
</gazebo>